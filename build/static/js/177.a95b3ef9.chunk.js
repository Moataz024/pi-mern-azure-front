"use strict";(self.webpackChunkliga_soccer=self.webpackChunkliga_soccer||[]).push([[177],{27765:(e,r,a)=>{a.r(r),a.d(r,{default:()=>n});var t=a(25984),s=a(67381),l=a(27929);const n=()=>(0,l.jsx)(t.A,{title:"Sign Up",children:(0,l.jsx)(s.A,{})})},67381:(e,r,a)=>{a.d(r,{A:()=>h});var t=a(32430),s=a(96529),l=a(27565),n=a(39442),o=a(79419),i=a(51047),c=a(11030),d=a(73292);var u=a(23163),m=a.n(u),p=a(20477),f=a(27929);const h=e=>{let{standalone:r=!0}=e;const{signup:a,error:u,isLoading:h}=(()=>{const[e,r]=(0,l.useState)(""),[a,t]=(0,l.useState)(null),{dispatch:s}=(0,o.Z)(),n=(0,c.Zp)();return{signup:async(e,a,l,o,c)=>{t(!0),r("");const u=await fetch("http://localhost:3000/User/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a,phone:l,age:o,fullname:c})}),m=await u.json();if(m.error&&(r(m.error),t(!1),i.oR.error(m.error)),!m.error){localStorage.setItem("token",m.accessToken);const e=(0,d.s)(m.accessToken.toString()).user;console.log(e),s({type:"LOGIN",payload:e}),t(!1),i.oR.success("Account created! Please check your email ".concat(m.email," to confirm your account.")),n("/")}},isLoading:a,error:e}})(),{register:x,handleSubmit:g,formState:{errors:j},control:y,watch:b}=(0,n.mN)({defaultValues:{fullname:"",lastName:"",email:"",age:"",phone:"",password:"",passwordConfirm:""}}),w=r?l.Fragment:s.A,N=r?{}:{className:"card card-padded"};return(0,f.jsxs)(w,{...N,children:[(0,f.jsxs)("div",{className:"d-flex flex-column g-4",children:[(0,f.jsx)("h3",{children:"Create new account"}),(0,f.jsx)("p",{className:"text-12",children:"Fill out the form below to create a new account"})]}),(0,f.jsxs)("form",{onSubmit:g((async e=>{await a(e.email,e.password,e.phone,e.age,e.fullname)})),children:[(0,f.jsxs)("div",{className:"d-flex flex-column g-20",style:{margin:"20px 0 30px"},children:[(0,f.jsx)("input",{className:m()("field",{"field--error":j.fullname}),type:"text",placeholder:"Full Name",...x("fullname",{required:!0})}),(0,f.jsx)("input",{className:m()("field",{"field--error":j.age}),type:"text",placeholder:"Age",...x("age",{required:!0})}),(0,f.jsx)("input",{className:m()("field",{"field--error":j.phone}),type:"text",placeholder:"Phone number",...x("phone",{required:!0})}),(0,f.jsx)("input",{className:m()("field",{"field--error":j.email}),type:"text",placeholder:"E-mail",...x("email",{required:!0,pattern:/^\S+@\S+$/i})}),(0,f.jsx)(n.xI,{control:y,name:"password",rules:{required:!0},render:e=>{let{field:{ref:r,onChange:a,value:s},fieldState:{error:l}}=e;return(0,f.jsx)(t.A,{className:m()("field",{"field--error":l}),value:s,onChange:e=>a(e.target.value),placeholder:"Password",innerRef:r})}}),(0,f.jsx)(n.xI,{control:y,name:"passwordConfirm",rules:{required:!0,validate:e=>e===b("password")},render:e=>{let{field:{ref:r,onChange:a,value:s},fieldState:{error:l}}=e;return(0,f.jsx)(t.A,{className:m()("field",{"field--error":l}),value:s,onChange:e=>a(e.target.value),placeholder:"Confirm password",innerRef:r})}})]}),(0,f.jsx)("div",{style:{justifyContent:"center",textAlign:"center",alignContent:"center"},children:(0,f.jsx)("button",{disabled:h,type:"submit",className:"btn w-100",children:"Create account"})}),u&&(0,f.jsx)("div",{className:"__progress-bar--error",children:u}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)("div",{style:{justifyContent:"center",textAlign:"center",alignContent:"center"},children:(0,f.jsx)(p.k2,{to:"/login",children:(0,f.jsxs)("button",{disabled:h,className:"text-button text-button--sm",children:["Already have an account?",(0,f.jsx)("b",{children:" Sign in"})]})})})]})]})}}}]);
//# sourceMappingURL=177.a95b3ef9.chunk.js.map