"use strict";(self.webpackChunkliga_soccer=self.webpackChunkliga_soccer||[]).push([[4360],{54360:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(27565),r=s(27937),n=s(99236),i=s(23740),c=s(79419),l=s(51256),o=s(75633),d=s(65744),h=s(20477),x=s(69669),p=s(19512),g=s(43327),j=s(27929);const m=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)([]),[m,u]=(0,a.useState)(null),{USER:b}=(0,c.Z)(),[y,C]=(0,a.useState)(!1),[f,w]=(0,a.useState)([]),[v,A]=(0,a.useState)(""),[S,k]=(0,a.useState)(!1),I=()=>f.some((e=>e.tournament===m._id&&"paid"===e.payment_status));return(0,a.useEffect)((()=>{b&&b.email&&(async()=>{try{const e=(await n.A.get("http://localhost:3000/User/getbyemail?email=".concat(b.email))).data._id;console.log(e);const s=await n.A.get("http://localhost:3000/Tournament/getByUserId/".concat(e)),a=s.data&&s.data.tournaments?s.data.tournaments:[];t(a),r(a)}catch(e){console.error("Error fetching tournaments:",e.message)}})()}),[b]),(0,a.useEffect)((()=>{b&&b.email&&(async()=>{try{const e=(await n.A.get("http://localhost:3000/User/getbyemail?email=".concat(b.email))).data._id,t=(await n.A.get("http://localhost:3000/Payment/user/".concat(e))).data||[];console.log("payments :",t),w(t)}catch(e){console.error("Error fetching payments:",e.message)}})()}),[b]),(0,a.useEffect)((()=>{const e=new i.Ay(".swiper",{effect:"cards",grabCursor:!0,initialSlide:2,speed:500,loop:!0,rotate:!0,mousewheel:{invert:!1},on:{slideChange:function(){const e=this.activeIndex%s.length;u(s[e])}}});return e.on("slideChange",(()=>{const t=e.realIndex%s.length;u(s[t])})),()=>{e.destroy(!0,!0)}}),[s]),(0,j.jsxs)("section",{children:[(0,j.jsxs)("div",{className:"content",children:[(0,j.jsxs)("div",{className:"info",children:[S?(0,j.jsx)("div",{className:"search-container",children:(0,j.jsx)(p.A,{style:{boxShadow:"0 4px 20px -2px #e9e9e9",borderRadius:"40px",border:"1px solid #ccc"},type:"text",value:v,onChange:t=>{const{value:s}=t.target;A(s);const a=e.filter((e=>e.title.toLowerCase().includes(s.toLowerCase())));r(a),a.length>0?u(a[0]):u(null)},placeholder:"Search by title",InputProps:{endAdornment:(0,j.jsx)(x.A,{position:"end",children:(0,j.jsx)(g.cW1,{onClick:()=>{A(""),k(!1)},style:{cursor:"pointer",color:"red",fontSize:"16px"}})})}})}):(0,j.jsx)(o.A,{className:"search-container",onClick:()=>{k(!0)},variant:"contained",children:"Search"}),m?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Title:"}),"  ",m.title," ",(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Start Date:"}),"  ",m.startDay,"/",m.startMonth,"/",m.startYear," ",(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:" End Date:"}),"  ",m.endDay,"/",m.endMonth,"/",m.endYear," ",(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:" Country:"}),"  ",m.Country," ",(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:" City:"}),"  ",m.City," ",(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:" Tournament Type:"}),"  ",m.TournamentType," ",(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:"Access: "}),"   ",m.access," ",(0,j.jsx)("br",{}),(0,j.jsx)("b",{children:" FriOrComp: "}),"  ",m.FriOrComp," ",(0,j.jsx)("br",{})]}),(0,j.jsxs)("div",{className:"button-containerr",children:[(0,j.jsx)(o.A,{style:{marginRight:"10px",backgroundColor:m&&I()?"#CCCCCC":"#FDCA40",color:m&&I()?"#666666":"black"},variant:"contained",disabled:m&&I(),onClick:()=>{C(!0)},children:"PAID"}),(0,j.jsx)("button",{style:{color:"black"},className:"btnnn",children:(0,j.jsx)(h.N_,{to:"/LeaguesBackOffice",children:"SEE MORE"})})]})]}):(0,j.jsx)("p",{className:"info",children:"There are no tournaments available for you right now."})]}),(0,j.jsx)("div",{className:"swiper",children:(0,j.jsx)("div",{className:"swiper-wrapper",children:e.map(((e,t)=>(0,j.jsx)("div",{className:"swiper-slide",children:e.logo?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("img",{src:e.logo,alt:e.title}),(0,j.jsxs)("div",{className:"overlay",children:[(0,j.jsx)("span",{children:(0,j.jsx)(l.OGi,{})}),e.rating?(0,j.jsx)("p",{children:((5*parseInt(e.rating["5 stars"])+4*parseInt(e.rating["4 stars"])+3*parseInt(e.rating["3 stars"])+2*parseInt(e.rating["2 stars"])+parseInt(e.rating["1 star"]))/(parseInt(e.rating["5 stars"])+parseInt(e.rating["4 stars"])+parseInt(e.rating["3 stars"])+parseInt(e.rating["2 stars"])+parseInt(e.rating["1 star"]))||0).toFixed(1)}):(0,j.jsx)("p",{children:"0.0"}),(0,j.jsx)("h2",{children:e.title})]})]}):(0,j.jsx)("img",{src:"https://img.pikbest.com/origin/05/97/54/08QpIkbEsTMsd.jpg!sw800",alt:"Default",className:"default-image"})},t)))})})]}),(0,j.jsx)(d.A,{style:{backgroundColor:"transparent"},open:y,onClose:()=>C(!1),children:(0,j.jsxs)("div",{style:{padding:"20px"},children:[(0,j.jsx)("h2",{children:(0,j.jsx)("u",{children:"Select Payment Option"})}),(0,j.jsx)(o.A,{style:{marginRight:"10px",backgroundColor:"#ffc107",color:"black"},variant:"contained",children:(0,j.jsx)("b",{children:(0,j.jsx)(h.N_,{to:"/payment-stripe",children:"Pay with Stripe"})})}),(0,j.jsx)(o.A,{style:{marginRight:"10px",backgroundColor:"#063fbb",color:"white"},variant:"contained",children:(0,j.jsx)("b",{children:(0,j.jsx)(h.N_,{to:"/payment-coin",children:"Pay with GSCoin"})})})]})}),(0,j.jsx)("ul",{className:"circles",children:Array.from({length:10}).map(((e,t)=>(0,j.jsx)("li",{},t)))})]})},u=()=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.A,{title:"Tournament List"}),(0,j.jsx)(m,{})]})}}]);
//# sourceMappingURL=4360.d83a3093.chunk.js.map