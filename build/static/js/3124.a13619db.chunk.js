"use strict";(self.webpackChunkliga_soccer=self.webpackChunkliga_soccer||[]).push([[3124],{53124:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var s=a(27565),n=a(27937),r=a(2643),l=a(96529),o=a(51047),i=a(39442);const c=()=>{const[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(!1),[r]=(0,s.useState)(new FormData),[l,i]=(0,s.useState)("");return{file:e,setFile:t,handleFile:e=>{const a=e.target.files[0];if(!a)return void o.oR.error("Please select a file");if("image/jpeg"!==a.type&&"image/png"!==a.type&&"image/webp"!==a.type)return void o.oR.error("File type not supported");const s=new FileReader;s.readAsDataURL(a),s.onerror=()=>{o.oR.error("Something went wrong. Please try again.")},s.onloadstart=()=>n(!0),s.onloadend=async()=>{try{t(s.result),r.append("team",a),n(!1)}catch(e){n(!1),console.error("Error uploading logo:",e.message)}}},formData:r,loading:a,message:l,setLoading:n}};var d=a(23163),u=a.n(d);const m="styles_wrapper__kkbsI",p="styles_img__B8KtI",x="styles_button__Yk1zh",h="styles_blurred__iv+yj";var b=a(27929);const y=e=>{let{onSelectAccess:t}=e;const[a,n]=(0,s.useState)(null),r=e=>{n(e),t(e)};return(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{style:{marginRight:"10px"},children:"Tournament Match Type"}),(0,b.jsxs)("div",{className:" justify-center space-x-4",children:[(0,b.jsxs)("label",{style:{marginRight:"10px",borderRadius:"15px"},className:"btn ".concat("Private"===a?"active":""),children:[(0,b.jsx)("input",{type:"checkbox",checked:"Private"===a,onChange:()=>r("Private"),style:{display:"none"}}),"Private"]}),(0,b.jsxs)("label",{style:{marginRight:"10px",borderRadius:"15px"},className:"btn ".concat("Public"===a?"active":""),children:[(0,b.jsx)("input",{type:"checkbox",checked:"Public"===a,onChange:()=>r("Public"),style:{display:"none"}}),"Public"]})]})]})},g=e=>{let{onSelecttournamentType:t}=e;const[a,n]=(0,s.useState)(null),r=e=>{n(e),t(e)};return(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{children:"Tournament Match Type"}),(0,b.jsxs)("div",{className:"justify-center space-x-4 ",children:[(0,b.jsxs)("label",{style:{marginRight:"10px",borderRadius:"15px"},className:"btn ".concat("Friendly"===a?"active":""),children:[(0,b.jsx)("input",{type:"checkbox",checked:"Friendly"===a,onChange:()=>r("Friendly"),style:{display:"none"}}),"Friendly"]}),(0,b.jsxs)("label",{style:{marginRight:"10px",borderRadius:"15px"},className:"btn ".concat("Competitive"===a?"active":""),children:[(0,b.jsx)("input",{type:"checkbox",checked:"Competitive"===a,onChange:()=>r("Competitive"),style:{display:"none"}}),"Competitive"]})]})]})};var f=a(16247),j=a(53727),v=a(66552),S=a(76756);const R=e=>{let{standalone:t=!0,formData:a,setFormData:n,onSubmit:r}=e;const{register:d,formState:{errors:R},handleSubmit:C}=(0,i.mN)({defaultValues:a}),[N,k]=(0,s.useState)(!1),{setFile:T,file:w,loading:D,setLoading:F}=c(a),{anchorEl:O,open:P,handleClick:A,handleClose:L}=(0,f.A)(),_=(0,s.useRef)(null),I=[{label:"Upload",icon:"upload",onClick:()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.click()}},{label:"Remove",icon:"trash",onClick:()=>T(null)}],M=t?"div":l.A,Y=t?{className:"card card-padded"}:{},[E,q]=(0,s.useState)(null),[K,V]=(0,s.useState)(null);return(0,b.jsx)("div",{className:u()("container",{[h]:N}),children:(0,b.jsxs)(M,{...Y,children:[(0,b.jsxs)("div",{className:"d-flex flex-column g-4",children:[(0,b.jsxs)("h2",{style:{paddingLeft:"40px"},children:["Tournament Details",N?(0,b.jsx)(S.A_B,{style:{marginLeft:"20px",color:"green"}}):null]}),(0,b.jsx)("p",{className:"text-12",children:"Fill out the form below to create a new Tournament"})]}),(0,b.jsx)("form",{onSubmit:C((e=>{K?E?(r({...e,access:K,FriOrComp:E,logo:w}),o.oR.success("Form submitted successfully!"),k(!0)):o.oR.error("Select the state of your tournament"):o.oR.error("Select the access type to your tournament")})),children:(0,b.jsxs)("div",{className:"d-flex flex-column g-20",style:{margin:"20px 0 30px"},children:[(0,b.jsx)("input",{className:u()("field",{"field--error":R.title}),type:"text",placeholder:"Your tournament title",...d("title",{required:!0})}),(0,b.jsx)("input",{className:u()("field",{"field--error":R.trophy}),type:"text",placeholder:"Trophy",...d("trophy",{required:!0})}),(0,b.jsx)(y,{onSelectAccess:e=>{V(e)}}),(0,b.jsx)(g,{onSelecttournamentType:e=>{q(e)}}),(0,b.jsxs)("div",{className:m,title:"Click to upload a Team Logo",children:[(0,b.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(!t)return void o.oR.error("Please select a file");if("image/jpeg"!==t.type&&"image/png"!==t.type&&"image/webp"!==t.type)return void o.oR.error("File type not supported");const a=new FileReader;a.readAsDataURL(t),a.onerror=()=>{o.oR.error("Something went wrong. Please try again.")},a.onloadstart=()=>F(!0),a.onloadend=async()=>{try{T(a.result),F(!1)}catch(e){F(!1),console.error("Error uploading logo:",e.message)}}},ref:_,hidden:!0}),(0,b.jsx)("div",{children:w?(0,b.jsx)(j.A,{className:p,src:w,alt:"Team Logo"}):(0,b.jsx)("div",{})}),(0,b.jsx)("button",{className:x,onClick:A,"aria-label":"Open menu",children:(0,b.jsx)("i",{className:"icon-camera"})}),(0,b.jsx)(v.A,{open:P,onClose:L,anchorEl:O,actions:I})]}),(0,b.jsxs)("button",{className:"btn",type:"submit",style:{backgroundColor:"#FDCA40",color:"black"},disabled:!K||!E,children:["Validate ",(0,b.jsx)("span",{style:{marginLeft:"10px"},className:"text-xl font-bold text-white",children:"\u2713"})]})]})})]})})};var C=a(95586),N=a(34653),k=a.n(N),T=a(11651);const w=e=>{let{onSelectedCountry:t,onSelectedCity:a}=e;const[n,r]=(0,s.useState)(),[l,o]=(0,s.useState)(),[i,c]=(0,s.useState)([]);return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{children:(0,b.jsx)(C.A,{options:(()=>{let e=k()().getData();for(let t=0;t<e.length;t++)"RU"===e[t].value&&(e[t].label="Russia [terrorist state]");return e})(),value:n,onChange:e=>{r(e),(e=>{r(e),o(null);const a=T.A.getCitiesOfCountry(e.value).map((e=>({value:e.name,label:e.name})));c(a),t&&t(e)})(e)},placeholder:"Country",isSearchable:!0,variant:"basic"})}),(0,b.jsx)("div",{style:{marginTop:"10px"},children:(0,b.jsx)(C.A,{options:i,value:l,onChange:e=>{o(e),(e=>{o(e),a&&a(e)})(e)},placeholder:"City",isSearchable:!0,variant:"basic"})})]})},D="styles_blurred__+n6Xr",F=e=>{let{standalone:t,onSubmit:a}=e;const[n,r]=(0,s.useState)(!1),{handleSubmit:c,register:d,formState:{errors:m},control:p}=(0,i.mN)({defaultValues:{startDate:"",endDate:""}}),x=t?"div":l.A,h=t?{}:{className:"card card-padded"},[y,g]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[v,R]=(0,s.useState)(null),[C,N]=(0,s.useState)({day:null,month:null,year:null}),[k,T]=(0,s.useState)({day:null,month:null,year:null});return(0,b.jsx)("div",{className:u()("container",{[D]:y}),children:(0,b.jsxs)(x,{...h,children:[(0,b.jsxs)("div",{className:"d-flex flex-column g-4",children:[(0,b.jsxs)("h2",{style:{paddingLeft:"40px"},children:["Duration and Place",y?(0,b.jsx)(S.A_B,{style:{marginLeft:"20px",color:"green"}}):null]}),(0,b.jsx)("p",{className:"text-12",children:"Fill out the form below to create a new Tournament"})]}),(0,b.jsx)("bR",{}),(0,b.jsxs)("form",{onSubmit:c((()=>{if(new Date(C)>=new Date(k))return void o.oR.error("Start date should be before the end date");if(!f)return void o.oR.error("Please select the country");if(!v)return void o.oR.error("Please select the city");const e={startDay:parseInt(C.startDay),startMonth:parseInt(C.startMonth),startYear:parseInt(C.startYear),endDay:parseInt(k.endDay),endMonth:parseInt(k.endMonth),endYear:parseInt(k.endYear),Country:f?f.label:null,City:v?v.label:null};a(e),o.oR.success("Form submitted successfully!"),g(!0)})),className:"d-flex flex-column g-40",children:[(0,b.jsxs)("div",{className:"d-flex flex-column g-20",children:[(0,b.jsx)(w,{onSelectedCountry:e=>{j(e)},onSelectedCity:e=>{R(e)}}),(0,b.jsx)("input",{className:u()("field",{"field--error":m.startDate}),type:"date",placeholder:"Start Date",onChange:e=>{const t=new Date(e.target.value);N({startDay:t.getDate(),startMonth:t.getMonth()+1,startYear:t.getFullYear()})},required:!0}),m.startDate&&(0,b.jsx)("p",{className:"error-message",children:"Please select a start date"}),(0,b.jsx)("input",{className:u()("field",{"field--error":m.startDate}),type:"date",placeholder:"End Date",onChange:e=>{const t=new Date(e.target.value);T({endDay:t.getDate(),endMonth:t.getMonth()+1,endYear:t.getFullYear()})},required:!0})]}),(0,b.jsx)("bR",{})," ",(0,b.jsx)("bR",{})," ",(0,b.jsx)("bR",{}),"                ",(0,b.jsx)("bR",{})," ",(0,b.jsx)("bR",{}),(0,b.jsx)("bR",{})," ",(0,b.jsx)("bR",{}),(0,b.jsxs)("button",{className:"btn",type:"submit",style:{backgroundColor:"#FDCA40",color:"black"},disabled:!C||!k||!v||!f,children:["Validate ",(0,b.jsx)("span",{style:{marginLeft:"10px"},className:"text-xl font-bold text-white",children:"\u2713"})]})]})]})})},O=e=>{let{onSelectTournamentType:t}=e;const[a,n]=(0,s.useState)(null),r=e=>{n(e),t(e)};return(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{children:"Tournament Type"}),(0,b.jsxs)("div",{style:{paddingLeft:"30%"},children:[(0,b.jsxs)("label",{style:{marginRight:"10px",borderRadius:"15px",marginTop:"5px"},className:"btn ".concat("Knockout"===a?"active":""),children:[(0,b.jsx)("input",{type:"checkbox",checked:"Knockout"===a,onChange:()=>r("Knockout"),style:{display:"none"}}),"Knockout"]}),(0,b.jsxs)("label",{style:{marginRight:"10px",borderRadius:"15px",marginTop:"5px"},className:"btn ".concat("League"===a?"active":""),children:[(0,b.jsx)("input",{type:"checkbox",checked:"League"===a,onChange:()=>r("League"),style:{display:"none"}}),"League"]}),(0,b.jsxs)("label",{style:{marginRight:"10px",borderRadius:"15px",marginTop:"5px"},className:"btn ".concat("Championship"===a?"active":""),children:[(0,b.jsx)("input",{type:"checkbox",checked:"Championship"===a,onChange:()=>r("Championship"),style:{display:"none"}}),"Championship"]})]})]})},P=e=>{let{standalone:t=!0,formData:a,setFormData:n,onSubmit:r}=e;const{register:c,formState:{errors:d},handleSubmit:m}=(0,i.mN)({defaultValues:a}),[p,x]=(0,s.useState)(!1),y=t?"div":l.A,g=t?{className:"card card-padded"}:{},[f,j]=(0,s.useState)(null),[v,R]=(0,s.useState)("Submit");return(0,b.jsx)("div",{className:u()("container",{[h]:p}),children:(0,b.jsxs)(y,{...g,children:[(0,b.jsx)("div",{className:"d-flex flex-column g-4",children:(0,b.jsxs)("h2",{style:{paddingLeft:"220px"},children:["Tournament Ongoing",p?(0,b.jsx)(S.A_B,{style:{marginLeft:"20px",color:"green"}}):null]})}),(0,b.jsxs)("form",{onSubmit:m((e=>{if(!f)return void o.oR.error("Select your tournament type Please");if(e.numberOfTeams<0)return void o.oR.error("Select a valid number of teams");if("League"===f.toString()&&e.numberOfTeams){const t=parseInt(e.numberOfTeams);t&t%2!==0&&o.oR.error("The number of your teams must be divided by 2")}if("Knockout"===f.toString()&&e.numberOfTeams){const t=parseInt(e.numberOfTeams);0!==(t&t-1)&&o.oR.error("Select a valid number of teams that is a power of 2")}if("Championship"===f.toString()&&e.numberOfTeams){const t=parseInt(e.numberOfTeams);t&t%4!==0&&o.oR.error("The number of your teams must be divided by 4 ")}if(e.numberOfPlayers){const t=parseInt(e.numberOfPlayers);(t<1||t>11)&&o.oR.error("Players in the pitch must be less than 11 and more than 0")}const t={...e,TournamentType:f.toString(),numberOfTeams:parseInt(e.numberOfTeams),numberOfPlayers:parseInt(e.numberOfPlayers)};r({...a,...t}),R("Undo"),o.oR.success("Form submitted successfully!"),x(!0)})),className:"d-flex flex-column g-40",children:[(0,b.jsxs)("div",{className:"d-flex flex-column g-20",style:{margin:"20px 0 30px"},children:[(0,b.jsx)(O,{onSelectTournamentType:e=>{j(e)}}),(0,b.jsx)("bR",{}),(0,b.jsx)("input",{className:u()("field",{"field--error":d.numberOfTeams}),type:"number",placeholder:"Number Of teams",...c("numberOfTeams",{required:!0})}),(0,b.jsx)("input",{className:u()("field",{"field--error":d.numberOfPlayers}),type:"number",placeholder:"Number of players in the field",...c("numberOfPlayers",{required:!0})})]}),(0,b.jsx)("bR",{})," ",(0,b.jsx)("bR",{})," ",(0,b.jsx)("bR",{})," ",(0,b.jsx)("bR",{})," ",(0,b.jsx)("bR",{}),(0,b.jsx)("bR",{}),(0,b.jsxs)("button",{className:"btn",type:"submit",style:{backgroundColor:"#FDCA40",color:"black"},disabled:!f,children:["Validate ",(0,b.jsx)("span",{style:{marginLeft:"10px"},className:"text-xl font-bold text-white",children:"\u2713"})]})]})]})})};var A=a(11030);const L=()=>{const e=(0,A.Zp)(),{file:t}=c(),[a,l]=(0,s.useState)(new FormData),[i,d]=(0,s.useState)({details:!1,payments:!1,password:!1}),u=(e,t)=>{l({...a,...e}),d((e=>({...e,[t]:!0})))},m={details:(0,b.jsx)(R,{onSubmit:e=>u(e,"details")}),payments:(0,b.jsx)(P,{onSubmit:e=>u(e,"payments")}),password:(0,b.jsx)(F,{onSubmit:e=>u(e,"password")})},p=Object.values(i).every((e=>e));return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.A,{title:"Create Tournament"}),(0,b.jsx)(r.A,{id:"player_profilee",widgets:m}),(0,b.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",paddingTop:"100px"},children:(0,b.jsxs)("button",{className:"btn",onClick:async()=>{try{if(!i.details||!i.payments||!i.password)return void console.error("Not all widgets are completed.");const t=await fetch("http://localhost:3000/Tournament/add",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(a)});if(!t.ok)throw new Error("Failed to create tournament");const s=await t.json();console.log(s),e("/addTeams",{state:{responseData:s}}),o.oR.success("Tournament created successfully!")}catch(t){console.error("Error sending data to backend:",t)}o.oR.success("Form submitted successfully!")},type:"button",style:{width:"100%",backgroundColor:p?"#FDCA40":"black",color:p?"black":"white"},disabled:!p,children:["Submit ",(0,b.jsx)("span",{style:{marginLeft:"10px"},className:"text-xl font-bold text-white",children:"\u2713"})]})})]})}}}]);
//# sourceMappingURL=3124.a13619db.chunk.js.map