"use strict";(self.webpackChunkliga_soccer=self.webpackChunkliga_soccer||[]).push([[4527],{97798:(e,t,r)=>{r.d(t,{A:()=>o});r(27565);const o=r.p+"static/media/rays.f2479e66e89ea397e59bebfff48be434.svg"},44527:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var o=r(2643),n=r(27937),d=r(27565),i=r(75633),s=r(21952),a=r(81427),l=r(21998),c=r.n(l);a.default.div.withConfig({componentId:"sc-1rvob6-0"})([".rbc-month-view,.rbc-time-view,.rbc-time-header{border:1px solid var(--border);}.rbc-off-range-bg,.rbc-today{background:transparent;}.rbc-header{border-bottom:1px solid var(--border);height:40px;display:flex;align-items:center;justify-content:center;font-family:var(--heading-font);font-size:10px;text-transform:uppercase;color:var(--header);font-weight:600;button{font-weight:600;}}.rbc-day-bg + .rbc-day-bg,.rbc-header + .rbc-header,.rbc-time-header-content,.rbc-time-content > * + * > *{border-left:1px solid var(--border);}.rbc-time-content,.rbc-time-content:first-of-type{border-top:none;}.rbc-time-header.rbc-overflowing{border-right:1px solid var(--border);}.rbc-month-row + .rbc-month-row{border-top:1px solid var(--border);}.rbc-day-slot .rbc-time-slot{border-top:1px dashed var(--border);}.rbc-timeslot-group{border-bottom:1px dashed var(--border);position:relative;&:last-of-type{border-bottom:none;}}.rbc-current-time-indicator{background:",";}.rbc-time-gutter{width:68px;.rbc-timeslot-group{.rbc-time-slot{&:first-of-type{flex:1;align-items:center;justify-content:center;position:relative;&:before{content:'';position:absolute;top:50%;left:0;width:100%;height:1px;border-top:1px dashed var(--border);transform:translateY(-50%);z-index:1;}.rbc-label{position:relative;z-index:2;font-family:var(--heading-font);font-size:9px;letter-spacing:0.45px;font-weight:600;color:var(--btn-text);height:20px;width:40px;background:var(--widget);border-radius:8px;display:flex;align-items:center;justify-content:center;line-height:11px;}}&:last-of-type{display:none;}}}}&.day{.rbc-day-slot .rbc-timeslot-group:first-of-type .rbc-time-slot:first-of-type{border-top:none;}.rbc-time-header{display:none;}}&.week{.rbc-allday-cell,.rbc-current-time-indicator{display:none;}.rbc-time-header{border:none;}}&.month .rbc-month-view{min-height:500px;.rbc-date-cell{padding:4px 0 0 0;text-align:center;&.rbc-off-range{opacity:.5;}&.rbc-now .rbc-button-link{font-weight:600;color:",";}.rbc-button-link{font-size:0.75rem;font-family:var(--heading-font);font-weight:500;}}@media screen and (min-width:768px){min-height:800px;.rbc-date-cell{text-align:right;padding:10px;}}@media screen and (min-width:1280px){min-height:1200px;}}.rbc-time-view{flex:unset;}.rbc-timeslot-group{max-height:40px;.rbc-time-slot{display:flex;align-items:center;height:20px;}}.rbc-events-container{margin:0 !important;.rbc-event{padding:0;background:transparent;border:none;border-radius:0;&-label{display:none;}}}.rbc-event{padding:0;background:transparent !important;border-radius:0;outline:none !important;}.rbc-show-more{color:",";background:transparent;margin:10px auto 0;}.rbc-row-segment{min-height:20px;@media screen and (min-width:1280px){min-height:40px;}}"],c()("theme",{light:"var(--azure)",dark:"var(--accent)"}),c()("theme",{light:"var(--blue)",dark:"var(--accent)"}),c()("theme",{light:"var(--blue)",dark:"var(--accent)"}));const p=a.default.div.withConfig({componentId:"sc-1rvob6-1"})(['margin-bottom:20px;display:flex;flex-direction:column;gap:20px;text-align:center;@media screen and (min-width:1024px){flex-direction:row;align-items:center;justify-content:space-between;&[dir="ltr"]{&[data-view="day"] .date{margin-left:68px;}}&[dir="rtl"]{&[data-view="day"] .date{margin-right:68px;}}}']);a.default.div.withConfig({componentId:"sc-1rvob6-2"})(["grid-template-columns:repeat(3,1fr);width:100%;@media screen and (min-width:1024px){max-width:300px;}"]);var h=r(96529),x=r(52998),f=r(780),m=r(7477),u=r(58826),b=r(8975),g=r(51047),y=r(27929);const j=e=>{let{open:t,onClose:o,fetchReferees:n,fetchStadiums:s,referees:a,selectedStadiums:l,stadiums:c,setSelectedRefs:p,selectedRefs:h,setSelectedStadiums:x,tournamentId:f}=e;(0,d.useEffect)((()=>{n(),s()}),[]);(0,d.useEffect)((()=>{t||(p([]),x([]))}),[t,p,x]);const m=(0,u.Ay)((()=>r.e(8935).then(r.bind(r,8935))));return(0,y.jsx)(m,{open:t,onClose:o,closeAfterTransition:!0,children:(0,y.jsx)("div",{className:"popup-container",children:(0,y.jsxs)("div",{className:"popup card card-padded",style:{minHeight:"unset",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,y.jsx)("button",{className:"popup_close",onClick:o,"aria-label":"Close popup",children:(0,y.jsx)("i",{className:"icon-xmark"})}),(0,y.jsxs)(b.JY,{onDragEnd:e=>{if(!e.destination)return;const t=e.source.index,r=e.destination.index,o=a,n=h,d=o[t];e.source.droppableId===e.destination.droppableId?(o.splice(t,1),o.splice(r,0,d),p([...o])):(o.splice(t,1),n.splice(r,0,d),p([...h]),x([...l]))},children:[(0,y.jsx)(b.gL,{droppableId:"referees",children:e=>(0,y.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[(0,y.jsx)("h2",{style:{paddingLeft:"50px"},children:"Select Referees"}),(0,y.jsx)("br",{}),a.map(((e,t)=>(0,y.jsx)(b.sx,{draggableId:e._id,index:t,children:t=>(0,y.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,children:e.fullname})},e._id))),e.placeholder]})}),(0,y.jsx)("br",{}),(0,y.jsx)("div",{style:{marginRight:"20px",width:"100%"},children:(0,y.jsx)(b.gL,{droppableId:"selectedRefs",children:e=>(0,y.jsxs)("div",{ref:e.innerRef,...e.droppableProps,style:{minHeight:"100px",border:"1px dashed #ccc",borderRadius:"4px",padding:"10px"},children:[h.map(((e,t)=>{const r=a.find((t=>t._id===e));return(0,y.jsx)("div",{children:r&&r.fullname},"selectedReferee-".concat(e,"-").concat(t))})),(0,y.jsx)("p",{children:"drop the Referee"}),e.placeholder]})})}),(0,y.jsx)("br",{})]}),(0,y.jsxs)(b.JY,{onDragEnd:e=>{if(!e.destination)return;const t=e.source.index,r=e.destination.index,o=c,n=l,d=o[t];e.source.droppableId===e.destination.droppableId?(o.splice(t,1),o.splice(r,0,d),x([...o])):(o.splice(t,1),n.splice(r,0,d),x([...l]),p([...h]))},children:[(0,y.jsx)(b.gL,{ClassName:"",droppableId:"stadiums",children:(e,t)=>(0,y.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[(0,y.jsx)("h2",{style:{paddingLeft:"50px"},children:"Select Stadiums"}),(0,y.jsx)("br",{}),c.map(((e,t)=>(0,y.jsx)(b.sx,{draggableId:e._id,index:t,children:t=>(0,y.jsx)("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,children:e.name})},e._id))),e.placeholder]})}),(0,y.jsx)("br",{}),(0,y.jsx)("div",{style:{marginRight:"20px",width:"100%"},children:(0,y.jsx)(b.gL,{droppableId:"selectedStadiums",children:e=>(0,y.jsxs)("div",{ref:e.innerRef,...e.droppableProps,style:{minHeight:"100px",border:"1px dashed #ccc",borderRadius:"4px",padding:"10px"},children:[l.map(((e,t)=>{const r=c.find((t=>t._id===e));return(0,y.jsx)("div",{children:r&&r.name},"selectedStadium-".concat(t))})),(0,y.jsx)("p",{children:"drop the stadium"}),e.placeholder]})})})]}),(0,y.jsx)("br",{}),(0,y.jsx)(i.A,{className:"btn",style:{backgroundColor:"#FDCA40",color:"black",width:"100%"},onClick:async()=>{try{console.log(f);await(async(e,t,r)=>{try{console.log(t);const o=await fetch("http://localhost:3000/Tournament/addRefereesAndStadiumsToTournament/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({referees:t,stadiums:r})});if(!o.ok)throw new Error("Failed to add referees and stadiums to the tournament");return await o.json()}catch(o){throw o}})(f,h,l);g.oR.success("Referees and stadiums added to the tournament successfully")}catch(e){g.oR.error("Failed to add referees and stadiums to the tournament")}},children:"Confirm"})]})})})};var w=r(86823);const v=()=>{const{direction:e}=(0,m.q)(),[t,r]=(0,d.useState)(""),{width:o}=(0,f.A)(),[n,a]=(0,d.useState)([]),[l,c]=(0,d.useState)(!1),[u,b]=(0,d.useState)([]),[v,S]=(0,d.useState)([]),[k,R]=(0,d.useState)([]),[A,C]=(0,d.useState)([]),[T,E]=(0,d.useState)(null),[I,L]=(0,d.useState)(null),_=(0,d.useRef)(null),[B,N]=(0,d.useState)(1),[P,F]=(0,d.useState)(5),z=B*P,D=z-P,W=n.slice(D,z),[H,J]=(0,d.useState)(""),[O,U]=(0,d.useState)([]);(0,d.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:3000/Tournament/getall");if(!e.ok)throw new Error("Failed to fetch tournaments");const t=await e.json();a(t)}catch(e){g.oR.error("Error fetching tournaments:",e)}})()}),[]);const Y=e=>{N(e)},q=Math.ceil(n.length/5);(0,d.useEffect)((()=>{document.addEventListener("keydown",G,!0)}),[]);const G=e=>{"/"===e.key&&(e.preventDefault(),_.current.focus(),_.current.value="")};return(0,y.jsxs)(h.A,{className:"card h-fit card-padded",children:[(0,y.jsxs)("div",{className:"card h-fit card-padded",children:[(0,y.jsxs)(p,{children:[(0,y.jsx)("div",{style:{display:"flex",alignItems:"center",width:"30%"},children:(0,y.jsx)("h2",{children:"Tournaments List"})}),(0,y.jsx)(x.A,{children:(0,y.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"30%",paddingLeft:"900px"},children:[(0,y.jsx)("input",{type:"text",value:t,onChange:e=>J(e.target.value),placeholder:"To research...",style:{flex:"1",fontSize:"15px",padding:"5px",borderBottom:"2px solid #ddd",alignItems:"center"}}),(0,y.jsx)(i.A,{style:{backgroundColor:"yellow",color:"black",borderRadius:"20%"},children:(0,y.jsx)(s.KSO,{})})]})})]}),(0,y.jsx)("div",{style:{width:"100%",overflowX:"auto",padding:"10px"},children:(0,y.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{style:{padding:"10px",textAlign:"left",fontWeight:"bold",borderBottom:"1px solid #ddd"},children:"Logo"}),(0,y.jsx)("th",{style:{padding:"10px",textAlign:"left",fontWeight:"bold",borderBottom:"1px solid #ddd"},children:"Title"}),(0,y.jsx)("th",{style:{padding:"10px",textAlign:"left",fontWeight:"bold",borderBottom:"1px solid #ddd"},children:"Type"}),(0,y.jsx)("th",{style:{padding:"10px",textAlign:"left",fontWeight:"bold",borderBottom:"1px solid #ddd"},children:"Status"}),(0,y.jsx)("th",{style:{padding:"10px",textAlign:"left",fontWeight:"bold",borderBottom:"1px solid #ddd"},children:"Start"}),(0,y.jsx)("th",{style:{padding:"10px",textAlign:"left",fontWeight:"bold",borderBottom:"1px solid #ddd"},children:"Affect"}),(0,y.jsx)("th",{style:{padding:"10px",textAlign:"left",fontWeight:"bold",borderBottom:"1px solid #ddd"},children:"Delete"})]})}),(0,y.jsx)("tbody",{children:W.filter((e=>""===H.toLowerCase()?e:e.title&&e.title.toLowerCase().includes(H))).map((e=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:(0,y.jsx)("img",{style:{width:"50px",height:"50px",borderRadius:"15%"},src:e.logo,alt:e.logo})}),(0,y.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:e.title}),(0,y.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:e.TournamentType?e.TournamentType.toString():""}),(0,y.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:e.TournamentStatus?e.TournamentStatus.toString():""}),(0,y.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:(0,y.jsx)(i.A,{onClick:()=>(async(e,t)=>{try{const r="Active"===t?"Inactive":"Active";if(!(await fetch("http://localhost:3000/Tournament/StartTournament/".concat(e),{method:"PUT",body:JSON.stringify({status:r}),headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to toggle tournament status");a((t=>t.map((t=>t._id===e?{...t,TournamentStatus:r}:t)))),g.oR.success("Tournament status set to ".concat(r," successfully"))}catch(r){g.oR.error("Error toggling tournament status:",r)}})(e._id,e.TournamentStatus),style:{backgroundColor:"Active"===e.TournamentStatus?"#f50606":"#0D51A3"},children:(0,y.jsx)("b",{style:{color:"white"},children:"Active"===e.TournamentStatus?"Set Inactive":"Set Active"})})}),(0,y.jsxs)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:[(0,y.jsx)(i.A,{onClick:()=>{return t=e._id,c(!0),void L(t);var t},style:{backgroundColor:"#396e11"},children:(0,y.jsx)("b",{style:{color:"white"},children:"Add Referees and Stadiums"})}),"                                    "]}),(0,y.jsx)("td",{style:{padding:"10px",borderBottom:"1px solid #ddd"},children:(0,y.jsx)(i.A,{onClick:()=>(async e=>{try{if(!(await fetch("http://localhost:3000/Tournament/delete/".concat(e),{method:"DELETE"})).ok)throw new Error("Failed to delete tournament");a((t=>t.filter((t=>t._id!==e)))),g.oR.success("Tournament deleted successfully")}catch(t){g.oR.error("Error deleting tournament:",t)}})(e._id),style:{backgroundColor:"red"},children:(0,y.jsx)("b",{style:{color:"white"},children:"DELETE"})})})]},e._id)))})]})}),(0,y.jsxs)("div",{style:{marginTop:"20px",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,y.jsx)(i.A,{style:{marginRight:"10px",backgroundColor:"#4285f4",color:"white"},disabled:1===B,onClick:()=>Y(B-1),children:(0,y.jsx)(w.sNG,{})}),(0,y.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bold"},children:["Page ",B," of ",q]}),(0,y.jsx)(i.A,{style:{marginLeft:"10px",backgroundColor:"#4285f4",color:"white"},disabled:B===q,onClick:()=>Y(B+1),children:(0,y.jsx)(w.SWi,{})})]})]}),(0,y.jsx)(j,{open:l,onClose:()=>c(!1),fetchReferees:async()=>{try{const e=await fetch("http://localhost:3000/User/getAllReferees");if(!e.ok)throw new Error("Failed to fetch referees");const t=await e.json();R(t)}catch(e){g.oR.error("Error fetching referees:",e)}},fetchStadiums:async()=>{try{const e=await fetch("http://localhost:3000/Stadium/getall");if(!e.ok)throw new Error("Failed to fetch stadiums");const t=await e.json();C(t)}catch(e){g.oR.error("Error fetching stadiums:",e)}},referees:k,stadiums:A,setSelectedRefs:b,setSelectedStadiums:S,selectedRefs:u,selectedStadiums:v,tournamentId:I})]})};r(51695),r(4863),r(61576),r(87886);var S=r(97798);a.default.div.withConfig({componentId:"sc-8b6yqo-0"})(['position:relative;.info{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;}.chart{position:relative;z-index:2;}.recharts-wrapper .recharts-surface{mask:url("','") no-repeat center;}'],S.A);const k=()=>{const[e,t]=(0,d.useState)(null);(0,d.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:3000/Tournament/getbyid/65fd1d5fa662c44a0912a23c");if(!e.ok)throw new Error("Failed to fetch tournament details");const r=await e.json();t(r)}catch(e){console.error(e)}})()}),[]);const r={live_matches:(0,y.jsx)(v,{})};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.A,{title:"List of Tournaments"}),(0,y.jsx)(o.A,{id:"championships",widgets:r})]})}}}]);
//# sourceMappingURL=4527.cd7d1e1d.chunk.js.map